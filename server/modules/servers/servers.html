<template name="servers">

	<h1>All Servers</h1>

	{{#each servers}}

		<h3>{{name}}</h3>
		{{#each servers}}
			<table class="table table-bordered" style="width: auto">
				<tr>
					<td> &nbsp; <a href="/servers/{{username}}">{{username}}</a> &nbsp; </td>
				</tr><tr>
					<td>IP address: {{digitalocean.ip_address}}</td>
				</tr><tr>
					<td>Hours: {{hours}}, Total: ${{totalCost}}</td>
				</tr><tr>
				  <td>
				  	{{#if event.action_status}}
					  	<button class="destroy" data-id="{{_id}}">Destroy</button>
					  	<button class="setup" data-id="{{_id}}">Setup</button>
				  	{{else}}
				  		{{event.event_desc}}
				  		{{event.percentage}}%
				  	{{/if}}
				  </td>
				</tr>
			</table>
		{{/each}}


	{{/each}}

	<h1>Create New</h1>

	<p>This is a manual server creation, and is usually not
	necessary.  New servers are created on demand, automatically.</p>

	{{#with iaasData.digitalocean}}

		<form id="digitalocean">
			<select name="type">
				<option value="combo" selected>Combo</option>
				<option value="meteor">Meteor</option>
				<option value="mongo">Mongo</option>
				<option value="nginx">Nginx</option>
			</select>
			<select name="regionId">
				{{#each regions}}
					<option value="{{id}}">{{name}} ({{slug}})</option>
				{{/each}}
			</select>
			<select name="sizeId">
				{{#each sizes}}
					<option value="{{id}}">{{name}}</option>
				{{/each}}
			</select>
			<input type="submit" value="Create" />
		</form>

	{{else}}

		<p>Loading Digital Ocean regions and sizes...</p>

	{{/with}}

</template>
