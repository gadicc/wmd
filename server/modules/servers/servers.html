<template name="serverSidebar">
	<div id="appSidebar">
		<a href="/servers">Summary<div></div></a>
		<a href="/servers/new">Add New<div></div></a>
		<div></div>
		{{#each servers}}
			<a href="/servers/{{_id}}">{{username}}<div></div></a>
			{{activeLinks}}
		{{/each}}
	</div>
</template>

<template name="servers">

	<h1>All Servers</h1>

	<table class="table table-bordered" style="width: auto">
		<thead>
			<tr>
				<th>Name</th>
				<th>IP</th>
				<th>Hours</th>
				<th>Cost</th>
				<th>Actions</th>
			</tr>
		</thead><tbody>

		{{#each servers}}
			<tr>
				<td><a href="/servers/{{username}}">{{username}}</a></td>
				<td>{{ip}}</td>
				<td>{{hours}}</td>
				<td>${{totalCost}}</td>
			  <td>
			  	{{#if event.action_status}}
				  	<button class="destroy" data-id="{{_id}}">Destroy</button>
				  	<button class="setup" data-id="{{_id}}">Setup</button>
			  	{{else}}
			  		{{event.event_desc}}
			  		{{event.percentage}}%
			  	{{/if}}
			  </td>
			</tr>
		{{/each}}

		</tbody>
	</table>

	<h1>Create New</h1>

	<p>This is a manual server creation, and is usually not
	necessary.  New servers are created on demand, automatically.</p>

	{{#with iaasData.digitalocean}}

		<form id="digitalocean">
			<select name="type">
				<option value="combo" selected>Combo</option>
				<option value="meteor">Meteor</option>
				<option value="mongo">Mongo</option>
				<option value="nginx">Nginx</option>
			</select>
			<select name="regionId">
				{{#each regions}}
					<option value="{{id}}">{{name}} ({{slug}})</option>
				{{/each}}
			</select>
			<select name="sizeId">
				{{#each sizes}}
					<option value="{{id}}">{{name}}</option>
				{{/each}}
			</select>
			<input type="submit" value="Create" />
		</form>

	{{else}}

		<p>Loading Digital Ocean regions and sizes...</p>

	{{/with}}

</template>
